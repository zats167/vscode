<?php
 goto Boa5T; gPL53: die("\60"); goto qBVVC; Dds8K: $checksf["\x73\164\141\x74\165\x73"] = 3; goto bAsGW; ZrCVK: $handle = new Jy_fenModuleWxapp(); goto JOhCJ; hFRFP: if (!($_GPC["\157\x70"] == "\143\x68\x65\x63\153\x4a\162")) { goto OkmEo; } goto c5cfq; dOJjX: die("\61"); goto YgL0U; bAsGW: $checksf["\155\163\147"] = "\347\xac\254\xe4\xb8\211\346\x96\xb9\345\271\263\xe5\x8f\xb0\xe7\x9a\204\x74\x6f\153\x65\156\350\277\x87\xe6\x9c\x9f"; goto ORPDU; t1r6C: R0fIf: goto bRW1R; HDDsN: function make_url($url, $token, $echo_str = false, $argus = array()) { goto Oa7ux; mv0Ym: $url = htmlspecialchars_decode($url) . $url_lj . http_build_query($argu); goto YjQ8x; q22Jm: $argu = array("\x74\151\155\145\x73\x74\141\155\x70" => $time, "\x6e\x6f\156\x63\x65" => $nonce); goto vt6og; N1GkE: $url_lj = strpos($url, "\x3f") === false ? "\77" : "\46"; goto mv0Ym; gOfyI: $argu["\x65\143\x68\x6f\x73\x74\x72"] = "\152\171\x66\145\156" . $nonce; goto fMe0W; BtSKL: $signature = checkSignature(array($token, $time, $nonce)); goto SEyea; fMe0W: $GLOBALS["\145\x63\x68\157\137\x73\x74\162"] = $echo_str; goto b4l7D; b4l7D: JNiWw: goto BtSKL; Oa7ux: $nonce = mt_rand(1000000, 9999999); goto APDmd; APDmd: $time = time(); goto q22Jm; SEyea: $argu["\x73\151\x67\x6e\141\164\x75\x72\x65"] = $signature; goto OW_tF; OW_tF: $argu = array_merge($argu, $argus); goto N1GkE; vt6og: if (!$echo_str) { goto JNiWw; } goto Voc2q; Voc2q: $echo_str = "\152\x79\x66\x65\x6e" . $nonce; goto gOfyI; YjQ8x: return $url; goto HGeV8; HGeV8: } goto Ee90W; IBuRY: if (!($sf_res !== $GLOBALS["\145\x63\150\x6f\137\163\x74\x72"])) { goto ZSbpb; } goto kpvhz; HZ7fW: if (!empty($data["\163\146\x5f\164\x6f\153\x65\156"])) { goto IbcHO; } goto Uob_S; ORPDU: pAxRn: goto uD84G; m523_: if (!checksubmit("\163\x75\x62\x6d\151\x74")) { goto Mvf0T; } goto tsdXB; GU_V1: $_GPC["\163\x66\137\163\164\141\x74\165\163"] = 2; goto Yi3hb; fT2Va: if (!empty($data["\x73\x66\137\x75\162\x6c"])) { goto cNCu9; } goto MLKI5; Apl13: XZn9Z: goto Za9RZ; LHf_h: message("\344\277\235\345\255\x98\345\xa4\261\xe8\264\245", '', "\145\x72\x72\157\x72"); goto D8U6s; OErMH: $accessToken = $checksf["\141\143\x63\x65\x73\x73\164\x6f\x6b\145\x6e"]; goto Gdcwi; CHSFw: $data["\163\x66\137\x73\x74\x61\164\x75\163"] = trim($_GPC["\x73\146\x5f\x73\164\141\164\x75\163"]); goto d5no1; RvZ4k: $item = pdo_get("\152\x79\146\145\156\x5f\x67\x7a\x77\170\x61\x70\x70", array("\x75\156\151\141\x63\x69\x64" => $_W["\165\156\151\x61\x63\x69\x64"], "\x69\x64" => $_GPC["\167\x78\141\x70\x70\x69\x64"])); goto xaDIi; MLKI5: message("\xe6\x8e\245\345\x8f\243\345\x9c\xb0\xe5\235\x80\xe4\xb8\x8d\xe8\203\275\xe4\xb8\272\xe7\xa9\xba", '', "\x65\162\162\157\x72"); goto bUjAz; uD84G: K2pPH: goto Q9_rE; u09X5: IbcHO: goto JrIn_; qBVVC: goto bGVLp; goto Bk8V2; wppLa: function Curl($url, $data = false, $s_option = array(), $to_arr = true) { goto MoQf5; yxpL4: $option[CURLOPT_POST] = 1; goto Ibf7v; Ibf7v: if ($to_arr == false) { goto hEk7d; } goto bM31x; ti0EX: $response = curl_exec($ch); goto jvKNC; yExH7: VgQ3p: goto NrPQP; jvKNC: if (!(curl_errno($ch) > 0)) { goto VgQ3p; } goto GNLA0; b_FOa: curl_setopt_array($ch, $option); goto ti0EX; BiXtl: goto JWyMr; goto GWu5B; GNLA0: return "\103\125\x52\114\x20\105\x52\x52\117\x52\72{$url}\40" . curl_error($ch); goto yExH7; ERVSW: return $response; goto PGwcX; varCQ: foreach ($s_option as $k => $v) { $option[$k] = $v; Sc375: } goto n6I0_; bM31x: $option[CURLOPT_POSTFIELDS] = http_build_query($data); goto BiXtl; xytuk: Bkvaw: goto varCQ; NrPQP: curl_close($ch); goto ERVSW; MoQf5: $ch = curl_init(); goto PJIi1; xjfAS: $option[CURLOPT_POSTFIELDS] = $data; goto tXCFH; tXCFH: JWyMr: goto xytuk; RxdTd: if (!$data) { goto Bkvaw; } goto yxpL4; PJIi1: $option = array(CURLOPT_URL => $url, CURLOPT_HEADER => 0, CURLOPT_TIMEOUT => 30, CURLOPT_RETURNTRANSFER => 1, CURLOPT_SSL_VERIFYHOST => 0, CURLOPT_SSL_VERIFYPEER => 0); goto RxdTd; GWu5B: hEk7d: goto xjfAS; n6I0_: koIMt: goto b_FOa; PGwcX: } goto m523_; JrIn_: if (!empty($_GPC["\x73\x66\137\x73\x74\x61\164\165\163"])) { goto C_S8G; } goto GU_V1; LfTlh: message("\xe5\271\263\345\x8f\260\345\x90\x8d\xe7\247\xb0\xe4\270\x8d\350\x83\xbd\xe4\270\xba\xe7\xa9\272", '', "\145\x72\x72\157\x72"); goto qQpkK; tsdXB: $data["\163\x66\x5f\x6e\141\x6d\x65"] = $_GPC["\x73\146\137\156\x61\155\x65"]; goto SXjTt; kv_qT: yS5xP: goto LJBig; Q9_rE: $rand_str = "\x61\x62\x63\144\x65\x66\147\150\151\152\x6b\x6c\156\x6d\157\160\x71\162\x73\x74\x75\166\x77\170\x79\172\x41\102\103\104\x45\x46\x47\110\x49\112\113\114\x4e\x4d\117\x50\x51\122\x53\124\x55\126\127\x58\131\132\x30\61\x32\63\x34\x35\x36\x37\70\71"; goto hFRFP; OFaQL: $GLOBALS["\146\x72\x61\155\145\x73"] = $this->getMainMenu(); goto RvZ4k; rMpGS: if (!empty($data["\x73\146\x5f\x6e\141\155\x65"])) { goto X29FI; } goto LfTlh; Boa5T: global $_GPC, $_W; goto OFaQL; Za9RZ: Mvf0T: goto zjnMV; qQpkK: X29FI: goto fT2Va; Gdcwi: if ($handle->CheckWxApi($accessToken, $_W, $_GPC)) { goto pAxRn; } goto Dds8K; bUjAz: cNCu9: goto HZ7fW; eXCad: $sf_res = Curl($sf_url); goto IBuRY; D8U6s: goto XZn9Z; goto kv_qT; Bk8V2: OwnBH: goto dOJjX; d5no1: $data["\163\146\137\165\160\164\151\x6d\x65"] = time(); goto rMpGS; Ee90W: function checkSignature($info) { goto r3HFO; ltVhf: $tmpStr = sha1($tmpStr); goto swJoo; swJoo: return $tmpStr; goto LVKAQ; r3HFO: $tmpArr = $info; goto m6FI7; s1bAW: $tmpStr = implode($tmpArr); goto ltVhf; m6FI7: sort($tmpArr, SORT_STRING); goto s1bAW; LVKAQ: } goto wppLa; EXrzp: $sf_url = make_url($data["\163\x66\137\165\162\x6c"], $data["\x73\x66\137\164\157\x6b\145\156"], true); goto eXCad; VbtVh: if (!($checksf["\x73\164\141\164\165\x73"] == 1)) { goto K2pPH; } goto OErMH; fyf24: if ($res) { goto yS5xP; } goto LHf_h; n7tU1: message("\351\252\x8c\xe8\257\x81\345\xa4\261\xe8\xb4\245\74\x62\162\57\x3e\xe8\xaf\xb7\xe6\xb1\202\345\x9c\260\345\235\200\346\x98\257\357\xbc\x9a" . $sf_url . "\x3c\142\162\x2f\76\345\244\261\350\xb4\xa5\347\x9a\204\345\216\x9f\345\233\240\xe5\x8f\257\xe8\203\xbd\346\230\xaf\xef\274\x9a" . $sf_res, '', "\145\x72\162\157\x72"); goto t1r6C; LJBig: message("\344\277\x9d\345\255\230\xe6\210\x90\345\x8a\x9f", $this->createWebUrl("\147\x7a\x73\146", array("\167\170\x61\x70\x70\x69\x64" => $_GPC["\x77\170\141\160\160\x69\144"])), "\x73\165\x63\x63\145\x73\163"); goto Apl13; gUTd3: if (!($sf_res !== $GLOBALS["\x65\x63\x68\x6f\137\163\164\162"])) { goto R0fIf; } goto n7tU1; xaDIi: require IA_ROOT . "\57\141\x64\144\x6f\156\x73\x2f\x6a\171\137\146\x65\x6e\57\x77\x78\141\160\160\x2e\160\150\x70"; goto ZrCVK; c5cfq: if ($item["\151\x73\x5f\171\x7a"] == 1) { goto OwnBH; } goto gPL53; JOhCJ: $checksf = $handle->checkIsSf($item); goto VbtVh; Kgmpf: OkmEo: goto HDDsN; SXjTt: $data["\x73\x66\x5f\x75\x72\154"] = $_GPC["\163\x66\137\x75\162\154"]; goto uBTEO; Yi3hb: C_S8G: goto EXrzp; bRW1R: $res = pdo_update("\152\171\x66\145\156\x5f\x67\172\167\x78\141\160\160", $data, array("\165\x6e\151\141\143\151\x64" => $_W["\x75\x6e\151\141\143\x69\x64"], "\x69\144" => $_GPC["\x77\x78\141\160\x70\151\x64"])); goto fyf24; YgL0U: bGVLp: goto Kgmpf; uBTEO: $data["\163\x66\x5f\x74\157\x6b\x65\156"] = trim($_GPC["\163\x66\137\x74\157\x6b\145\156"]); goto CHSFw; Cszj6: ZSbpb: goto gUTd3; Uob_S: message("\124\157\x6b\145\x6e\xe4\xb8\x8d\xe8\203\275\344\xb8\xba\347\251\272", '', "\145\162\x72\x6f\x72"); goto u09X5; kpvhz: $sf_res = Curl($url, array()); goto Cszj6; zjnMV: include $this->template("\167\x65\x62\57\x67\x7a\x73\x66");